<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        function randomNumber() {
            return Math.floor(Math.random() * (4 - 1));
        }

        let stats = {
            health: 10,
            damage: randomNumber(),
            level: 1,
            magicLevel: 1,
            rangedLevel: 1,
            meleeLevel: 1,
            meleeExperience: 0,
            woodcuttingLevel: 1,
            fletchingLevel: 1,
            firemakingLevel: 1,
            fishingLevel: 1,
        }

        let items = {
            coins: 0,
            logs: 0,
            arrowShafts: 0,
            shrimp: 0,
        }

        //game start
        alert("Welcome to the text based RPG. Before we get started, do you have a name?");
        characterName = prompt("Please enter your name.");
        alert(characterName + "!" + " Weird name.. but it'll do.");
        alert("Let's first get you set up with some basic skills.");
        alert("We have three character paths. You may either select warrior, archer, or mage!");

        //character selection
        characterType = confirm("Would you like to become a warrior?");
        if (characterType) {
            characterSelected = "warrior";
        } else {
            characterType = confirm("Would you like to become an archer?");
            if (characterType) {
                characterSelected = "archer";
            } else {
                characterType = confirm("Would you like to become a mage?");
                if (characterType) {
                    characterSelected = "mage";
                }
            }
        }

        //telling user what class has been selected, and sets level to 5.
        if (characterSelected === "warrior") {
            alert("You have selected to become a warrior!");
            stats.meleeLevel += 4;
        } else {
            if (characterSelected === "archer") {
                alert("You have selected to become an archer!");
                stats.rangedLevel += 4;
            } else {
                if (characterSelected === "mage") {
                    alert("You have selected to become a mage!");
                    stats.magicLevel += 4;
                }
            }
        }

        //assigning starting weapons
        alert("Now, we must get you started with a weapon.");
        if (characterSelected === "warrior") {
            weapon = "dagger";
        } else {
            if (characterSelected === "archer") {
                weapon = "bow";
            } else {
                if (characterSelected === "mage") {
                    weapon = "staff";
                }
            }
        }


        alert("You have been handed a " + weapon + ".");
        
        //spawns goblin
        let goblin = {
            name: "goblin",
            health: 5,
            damage: randomNumber(),
        }


        //start goblin battle
        alert("Oh no, there's a " + goblin.name + " attacking our village!");
        alert("Help us, " + characterName + "!");
        alert("With your new " + weapon + ", you can help us defeat the goblin!");

        //goblin attack loop
        while (goblin) {
            stats.health -= goblin.damage;
            if (goblin.damage === 0) {
                alert("The " + goblin.name + " hit a " + goblin.damage + ". You took no damage! Your health is still " + stats.health + ".");
            } else {
                alert("Ouch! The " + goblin.name + " hit you for a " + goblin.damage + ". Your health is now " + stats.health + ".");
            }
            if (stats.health <= 0) {
                alert("Oh dear, you have died!");
                //end game screen here?
            }
            response = confirm("Would you like to retaliate?");
            if (response) {
                alert("You have attacked the " + goblin.name + " with your " + weapon + "!");
                if (stats.damage === 0) {
                    alert("You hit a " + stats.damage + "! You dealt no damage. The " + goblin.name + "'s health is still " + goblin.health + ".");
                } else {
                    goblin.health -= stats.damage;
                    stats.meleeExperience += stats.damage * 4;
                    alert("You have hit a " + stats.damage + ". The " + goblin.name + "'s health is now " + goblin.health + ".");
                    if (goblin.health <= 0) {
                        items.coins += 10;
                        alert("You have slain the " + goblin.name + ".");
                        alert("You have gained 10 coins!");
                        if (characterSelected === "warrior") {
                            alert("You have gained " + stats.meleeExperience + " melee experience!");
                        }
                        goblin = false;
                        alert("Thank you, " + characterName + "! You're our hero!");
                    }
                }
            }
        }



        //intro to woodcutting
        let array = [


        ]

        let tree = {
            name: "tree",
            health: 5
        }

        alert("Now that you can find your way around a weapon, let's get you familiar with some skills.");
        alert("First let's start off with woodcutting.");
        alert("You have received an axe.");


        alert("Let's start off by chopping that " + tree.name + " over there down.");


        //woodcutting action
        answer = confirm("Would you like to cut down this " + tree.name + "?");
        while (tree) {
            if (answer) {
                items.logs += 1;
                alert("You swing your axe at the " + tree.name + ".");
            }
            tree.health -= 1;
            if (tree.health <= 0) {
                alert("You successfully chopped down the " + tree.name + ".");
                alert("You now have " + items.logs + " logs.");
                stats.woodcuttingLevel += 1;
                alert("Congratulations! Your woodcutting level is now " + stats.woodcuttingLevel + "!");
                tree = false;
            }
        }

        // //user chooses to fletch or firemake
        // alert("Very good! Now, what do you do with those logs?");
        // action = confirm("Would you like to fletch your logs?");
        // if (action) {//fletching action
        //     alert("You have been handed a knife.");
        //     let knife = true;
        //     while (knife) {
        //         alert("You begin to fletch your logs.");
        //         items.logs -= 1;
        //         items.arrowShafts += 10;
        //         alert("You have fletched your log.");
        //         alert("You now have " + items.logs + " logs.");
        //         if (items.logs <= 0) {
        //             stats.fletchingLevel += 1;
        //             alert("You now have " + items.arrowShafts + " arrow shafts.");
        //             alert("Congratulations! Your fletching level is now " + stats.fletchingLevel + "!");
        //             knife = false;
        //         }
        //     }
        // } else {//firemaking action
        //     action = confirm("Would you like to burn your logs?");
        //     if (action) {
        //         alert("You have been handed a tinderbox.");
        //         let tinderbox = true;
        //         while (tinderbox) {
        //             alert("You begin to light your logs.");
        //             items.logs -= 1;
        //             alert("You have started a fire.");
        //             alert("You now have " + items.logs + " logs left.");
        //             if (items.logs <= 0) {
        //                 stats.firemakingLevel += 1;
        //                 alert("Congratulations! Your firemaking level is now " + stats.firemakingLevel + "!");
        //                 tinderbox = false;
        //             }
        //         }
        //     }
        // }

        // //fishing action
        // action = confirm("Nice job! Are you ready to move on to fishing?");
        // if (action) {
        //     let fishingNet = true;
        //     answer = confirm("Would you like to start fishing?");
        //     while (fishingNet) {
        //         if (answer) {
        //             alert("You begin to fish.");
        //             items.shrimp += 1;
        //             alert("You now have " + items.shrimp + " shrimp.");
        //         }
        //         stop = confirm("Would you like to stop?");
        //         if (stop) {
        //             fishingNet = false;
        //             alert("You have stopped fishing.");
        //             alert("You have " + items.shrimp + " shrimp.");
        //         }
        //     }
        // }

















    </script>
</body>

</html>